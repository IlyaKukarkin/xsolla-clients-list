webpackJsonp([1],{"/T3m":function(t,e){},"0kAZ":function(t,e){},"4dp6":function(t,e){},FEk3:function(t,e){},GK12:function(t,e){},K4gw:function(t,e){},LAvx:function(t,e){},LBCD:function(t,e){},MCUu:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={};s.d(a,"createClient",function(){return S}),s.d(a,"updateClient",function(){return R}),s.d(a,"deleteClient",function(){return V}),s.d(a,"loadClients",function(){return z});var i={};s.d(i,"createContract",function(){return et}),s.d(i,"updateContract",function(){return st}),s.d(i,"deleteContract",function(){return at}),s.d(i,"loadContracts",function(){return it}),s.d(i,"loadClients",function(){return nt}),s.d(i,"loadFlats",function(){return rt}),s.d(i,"loadCars",function(){return lt});var n={};s.d(n,"createCar",function(){return ht}),s.d(n,"updateCar",function(){return pt}),s.d(n,"deleteCar",function(){return bt}),s.d(n,"loadCars",function(){return gt});var r={};s.d(r,"createFlat",function(){return $t}),s.d(r,"updateFlat",function(){return kt}),s.d(r,"deleteFlat",function(){return Nt}),s.d(r,"loadFlats",function(){return xt});var l=s("7+uW"),c=s("Gu7T"),o=s.n(c),d=s("fZjL"),u=s.n(d),v=s("Dd8w"),f=s.n(v),m=s("NYxO"),C={name:"clients-list-view",mounted:function(){this.loadClients()},methods:f()({},Object(m.b)(["deleteClient","loadClients"]),{confirmDeleteClient:function(t){confirm("Are you sure you want to delete client "+t.surname+"?")&&this.deleteClient(t)}}),computed:f()({},Object(m.d)({clients:function(t){return t.clients.clients}}),{sortedClients:function(){var t=this;return u()(this.clients).sort(function(e,s){return t.clients[e].surname.localeCompare(t.clients[s].surname)}).map(function(e){return t.clients[e]})}})},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"clients-list-view"}},[s("div",{staticClass:"container"},[s("h3",{staticClass:"title is-3"},[t._v("List of clients")]),t._v(" "),s("div",{staticClass:"tabs is-centered is-large"},[s("ul",[s("li",[s("router-link",{attrs:{to:{name:"contractsListView"}}},[t._v("Contracts")])],1),t._v(" "),t._m(0),t._v(" "),s("li",[s("router-link",{attrs:{to:{name:"carsListView"}}},[t._v("Cars")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:{name:"flatsListView"}}},[t._v("Flats")])],1)])]),t._v(" "),s("div",{staticClass:"hero"},[s("table",{staticClass:"table is-bordered"},[s("thead",[s("tr",[s("th",[t._v("Surname")]),t._v(" "),s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Patronymic")]),t._v(" "),s("th",[t._v("E-mail")]),t._v(" "),s("th",[t._v("Phone")]),t._v(" "),s("th",[t._v("Address")]),t._v(" "),s("th",[t._v("Passport series")]),t._v(" "),s("th",[t._v("Passport number")]),t._v(" "),s("th",[t._v("Birth Date")]),t._v(" "),s("th",[s("router-link",{staticClass:"button is-link",attrs:{to:{name:"createClient"}}},[t._v("Add client")])],1)])]),t._v(" "),s("tbody",t._l(t.sortedClients,function(e){return s("tr",{key:e.clientId},[s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.surname))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.name))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.patronymic))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.email))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.phone))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.address))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.series))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.number))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.birthDate))])]),t._v(" "),s("td",[s("router-link",{staticClass:"button is-primary",attrs:{to:{name:"updateClient",params:{clientId:e.id}}}},[t._v("Edit")]),t._v(" "),s("a",{staticClass:"button is-danger",on:{click:function(s){t.confirmDeleteClient(e)}}},[t._v("Delete")])],1)])}))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"is-active"},[e("a",[this._v("Clients")])])}]};var h=s("VU/8")(C,_,!1,function(t){s("0kAZ")},"data-v-1a7b5ddf",null).exports,p=s("woOf"),b=s.n(p),g=s("B+20"),y=s.n(g),F=(s("K4gw"),{name:"clients-create-edit-view",components:{flatPickr:y.a},data:function(){return{config:{dateFormat:"d-M-Y",maxDate:"today"},selectedClient:{},editing:!1}},mounted:function(){var t=this;"clientId"in this.$route.params&&this.loadClients().then(function(){var e=t.getClientById(t.$route.params.clientId);e&&(t.editing=!0,t.selectedClient=b()({},e))})},methods:f()({},Object(m.b)(["createClient","updateClient","loadClients"]),{resetAndGo:function(){this.selectedClient={},this.$router.push({name:"clientsListView"})},saveNewClient:function(){var t=this;this.createClient(this.selectedClient).then(function(){t.resetAndGo()}).catch(function(t){alert(t)})},saveClient:function(){var t=this;this.updateClient(this.selectedClient).then(function(){t.resetAndGo()}).catch(function(t){alert(t)})},processSave:function(){this.editing?this.saveClient():this.saveNewClient()}}),computed:f()({},Object(m.c)(["getClientById"]))}),E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"clients-create-edit-view"}},[s("h3",{staticClass:"title is-3",staticStyle:{"margin-bottom":"20pt"}},[t._v("Add client")]),t._v(" "),s("form",{staticClass:"columns",on:{submit:function(e){return e.preventDefault(),t.processSave(e)}}},[s("div",{staticClass:"column"}),t._v(" "),s("div",{staticClass:"column is-half"},[s("div",{staticClass:"field is-horizontal"},[t._m(0),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedClient.surname,expression:"selectedClient.surname"}],staticClass:"input",attrs:{type:"text",name:"surname"},domProps:{value:t.selectedClient.surname},on:{input:function(e){e.target.composing||t.$set(t.selectedClient,"surname",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(1),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedClient.name,expression:"selectedClient.name"}],staticClass:"input",attrs:{type:"text",name:"name"},domProps:{value:t.selectedClient.name},on:{input:function(e){e.target.composing||t.$set(t.selectedClient,"name",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(2),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedClient.patronymic,expression:"selectedClient.patronymic"}],staticClass:"input",attrs:{type:"text",name:"patronymic"},domProps:{value:t.selectedClient.patronymic},on:{input:function(e){e.target.composing||t.$set(t.selectedClient,"patronymic",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(3),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedClient.email,expression:"selectedClient.email"}],staticClass:"input",attrs:{type:"text",name:"email"},domProps:{value:t.selectedClient.email},on:{input:function(e){e.target.composing||t.$set(t.selectedClient,"email",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(4),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedClient.phone,expression:"selectedClient.phone"}],staticClass:"input",attrs:{type:"text",name:"phone"},domProps:{value:t.selectedClient.phone},on:{input:function(e){e.target.composing||t.$set(t.selectedClient,"phone",e.target.value)}}})])])])]),s("div",{staticClass:"field is-horizontal"},[t._m(5),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedClient.address,expression:"selectedClient.address"}],staticClass:"input",attrs:{type:"text",name:"address"},domProps:{value:t.selectedClient.address},on:{input:function(e){e.target.composing||t.$set(t.selectedClient,"address",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(6),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedClient.series,expression:"selectedClient.series"}],staticClass:"input",attrs:{type:"number",name:"series"},domProps:{value:t.selectedClient.series},on:{input:function(e){e.target.composing||t.$set(t.selectedClient,"series",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(7),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedClient.number,expression:"selectedClient.number"}],staticClass:"input",attrs:{type:"number",name:"number"},domProps:{value:t.selectedClient.number},on:{input:function(e){e.target.composing||t.$set(t.selectedClient,"number",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(8),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("flat-pickr",{staticClass:"input",attrs:{config:t.config,name:"birthDate",placeholder:"Select a date"},model:{value:t.selectedClient.birthDate,callback:function(e){t.$set(t.selectedClient,"birthDate",e)},expression:"selectedClient.birthDate"}})],1)])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-label"}),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("button",{staticClass:"button is-primary"},[t._v("Submit")]),t._v(" "),s("router-link",{attrs:{to:{name:"clientsListView"}}},[s("button",{staticClass:"button is-link"},[t._v("Cancel")])])],1)])])])]),t._v(" "),s("div",{staticClass:"column"})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"surname"}},[this._v("Surname")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"name"}},[this._v("Name")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"patronymic"}},[this._v("Patronymic")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"email"}},[this._v("E-mail")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"phone"}},[this._v("Phone number")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"address"}},[this._v("Address")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"series"}},[this._v("Passport series")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"number"}},[this._v("Passport number")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"birthDate"}},[this._v("Birth date")])])}]};var A=s("VU/8")(F,E,!1,function(t){s("LAvx")},"data-v-5af89c58",null).exports,w=[{path:"/clients",component:h,name:"clientsListView"},{path:"/clients/create",component:A,name:"createClient"},{path:"/clients/:clientId/update",component:A,name:"updateClient"}],D=s("//Fk"),I=s.n(D),T=s("gRE1"),L=s.n(T),$=s("22C0"),k=s.n($),N=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},x=function(t){var e={};return u()(t).forEach(function(s){e[t[s].id]=t[s]}),e},O=function(){return k.a.startsWith("CLIENT-").then(function(t){return x(t)})},j=function(t){return k.a.setItem("CLIENT-"+t.id,t).then(function(t){return t}).catch(function(t){console.log("oops! the client was too far gone, there was nothing we could do to save him ",t)})},P=function(t,e){return!L()(t).find(function(t){return t.surname===e.surname&&t.name===e.name&&t.patronymic===e.patronymic&&t.email===e.email&&t.phone===e.phone&&t.address===e.address&&t.series===e.series&&t.number===e.number&&t.birthDate===e.birthDate})},S=function(t,e){var s=t.commit,a=t.state;if(!P(a.clients,e))return I.a.reject(new Error("This client already exists!"));var i=N(),n=b()({id:i},e);s("CREATE_CLIENT",{client:n}),j(n).then(function(t){})},R=function(t,e){var s=t.commit,a=t.state;if(!P(a.clients,e))return I.a.reject(new Error("This client already exists!"));s("UPDATE_CLIENT",{client:e}),j(e)},V=function(t,e){var s;(0,t.commit)("DELETE_CLIENT",{client:e}),s=e,k.a.removeItem("CLIENT-"+s.id).then(function(){return!0}).catch(function(t){return console.log(t),!1})},z=function(t){if(!t.clients||0===u()(t.clients).length)return O().then(function(e){t.commit("LOAD_CLIENTS",e)})},U={state:{clients:{}},actions:a,mutations:{CREATE_CLIENT:function(t,e){t.clients[e.client.id]=e.client},UPDATE_CLIENT:function(t,e){t.clients[e.client.id]=e.client},DELETE_CLIENT:function(t,e){l.a.delete(t.clients,e.client.id)},LOAD_CLIENTS:function(t,e){t.clients=e}},getters:{getClientById:function(t,e){return function(e){return!!(t.clients&&e in t.clients)&&t.clients[e]}}}},B={name:"contracts-list-view",created:function(){this.loadClients(),this.loadContracts(),this.loadFlats(),this.loadCars()},methods:f()({},Object(m.b)(["deleteContract","loadContracts","loadClients","loadFlats","loadCars"]),{confirmDeleteContract:function(t){confirm("Are you sure you want to delete this contract?")&&this.deleteContract(t)},getClientFIO:function(t){var e=this.getClientFromId(t);return e.surname+" "+e.name.substring(0,1).toUpperCase()+". "+e.patronymic.substring(0,1).toUpperCase()+"."},getObjectType:function(t){var e=this.getFlatFromId(t);return e?"Flat":(e=this.getCarFromId(t),"Car")}}),computed:f()({},Object(m.c)(["getClientFromId","getCarFromId","getFlatFromId"]),Object(m.d)({contracts:function(t){return t.contracts.contracts},clients:function(t){return t.clients.clients},cars:function(t){return t.cars.cars},flats:function(t){return t.flats.flats}}),{sortedContracts:function(){var t=this;return u()(this.contracts).sort(function(e,s){return Date.parse(t.contracts[e].startDate)-Date.parse(t.contracts[s].startDate)}).map(function(e){return t.contracts[e]})}})},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"contracts-list-view"}},[s("div",{staticClass:"container"},[s("h3",{staticClass:"title is-3"},[t._v("List of clients")]),t._v(" "),s("div",{staticClass:"tabs is-centered is-large"},[s("ul",[t._m(0),t._v(" "),s("li",[s("router-link",{attrs:{to:{name:"clientsListView"}}},[t._v("Clients")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:{name:"carsListView"}}},[t._v("Cars")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:{name:"flatsListView"}}},[t._v("Flats")])],1)])]),t._v(" "),s("div",{staticClass:"hero"},[s("table",{staticClass:"table is-bordered"},[s("thead",[s("tr",[s("th",[t._v("Summ")]),t._v(" "),s("th",[t._v("Prepaid")]),t._v(" "),s("th",[t._v("Start date")]),t._v(" "),s("th",[t._v("End date")]),t._v(" "),s("th",[t._v("Client")]),t._v(" "),s("th",[t._v("Object Type")]),t._v(" "),s("th",[s("router-link",{staticClass:"button is-link",attrs:{to:{name:"createContract"}}},[t._v("Add contract")])],1)])]),t._v(" "),s("tbody",t._l(t.sortedContracts,function(e){return s("tr",{key:e.contractId},[s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.summ))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.prePaid))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.startDate))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.finishDate))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(t.getClientFIO(e.clientId)))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(t.getObjectType(e.objectId)))])]),t._v(" "),s("td",[s("router-link",{staticClass:"button is-primary",attrs:{to:{name:"updateContract",params:{contractId:e.id}}}},[t._v("Edit")]),t._v(" "),s("a",{staticClass:"button is-danger",on:{click:function(s){t.confirmDeleteContract(e)}}},[t._v("Delete")])],1)])}))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"is-active"},[e("a",[this._v("Contracts")])])}]};var M=s("VU/8")(B,G,!1,function(t){s("MCUu")},"data-v-004fd884",null).exports,Y={name:"contracts-create-edit-view",components:{flatPickr:y.a},data:function(){return{configStartDate:{dateFormat:"d-M-Y",minDate:"today"},configFinishDate:{dateFormat:"d-M-Y",minDate:"today"},selectedContract:{},editing:!1,chosenObject:""}},mounted:function(){var t=this;"contractId"in this.$route.params&&this.loadContracts().then(function(){var e=t.getContractById(t.$route.params.contractId);if(e){t.editing=!0,t.selectedContract=b()({},e);var s=t.getFlatFromId(t.selectedContract.objectId);s?t.chosenObject="Flat":(s=t.getCarFromId(t.selectedContract.objectId),t.chosenObject="Car")}}),this.loadClients(),this.loadFlats(),this.loadCars()},methods:f()({},Object(m.b)(["createContract","updateContract","loadContracts","loadClients","loadFlats","loadCars"]),{resetAndGo:function(){this.selectedContract={},this.$router.push({name:"contractsListView"})},saveNewContract:function(){var t=this;this.createContract(this.selectedContract).then(function(){t.resetAndGo()}).catch(function(t){alert(t)})},saveContract:function(){var t=this;this.updateContract(this.selectedContract).then(function(){t.resetAndGo()}).catch(function(t){alert(t)})},processSave:function(){this.editing?this.saveContract():this.saveNewContract()}}),computed:f()({},Object(m.c)(["getContractById","getCarFromId","getFlatFromId"]),Object(m.d)({clients:function(t){return t.clients.clients},cars:function(t){return t.cars.cars},flats:function(t){return t.flats.flats}}))},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"contracts-create-edit-view"}},[s("h3",{staticClass:"title is-3",staticStyle:{"margin-bottom":"20pt"}},[t._v("Add contract")]),t._v(" "),s("form",{staticClass:"columns",on:{submit:function(e){return e.preventDefault(),t.processSave(e)}}},[s("div",{staticClass:"column"}),t._v(" "),s("div",{staticClass:"column is-half"},[s("div",{staticClass:"field is-horizontal"},[t._m(0),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedContract.summ,expression:"selectedContract.summ"}],staticClass:"input",attrs:{type:"number",name:"summ"},domProps:{value:t.selectedContract.summ},on:{input:function(e){e.target.composing||t.$set(t.selectedContract,"summ",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(1),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedContract.prePaid,expression:"selectedContract.prePaid"}],staticClass:"input",attrs:{type:"number",name:"prePaid"},domProps:{value:t.selectedContract.prePaid},on:{input:function(e){e.target.composing||t.$set(t.selectedContract,"prePaid",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(2),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("flat-pickr",{staticClass:"input",attrs:{config:t.configStartDate,name:"startDate",placeholder:"Select a date"},model:{value:t.selectedContract.startDate,callback:function(e){t.$set(t.selectedContract,"startDate",e)},expression:"selectedContract.startDate"}})],1)])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(3),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("flat-pickr",{staticClass:"input",attrs:{config:t.configFinishDate,name:"finishDate",placeholder:"Select a date"},model:{value:t.selectedContract.finishDate,callback:function(e){t.$set(t.selectedContract,"finishDate",e)},expression:"selectedContract.finishDate"}})],1)])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(4),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedContract.clientId,expression:"selectedContract.clientId"}],staticClass:"select input",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.selectedContract,"clientId",e.target.multiple?s:s[0])}}},t._l(t.clients,function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                  "+t._s(e.surname)+"\n                ")])}))])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(5),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.chosenObject,expression:"chosenObject"}],staticClass:"select input",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.chosenObject=e.target.multiple?s:s[0]}}},[s("option",[t._v("Flat")]),t._v(" "),s("option",[t._v("Car")])])])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(6),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},["Flat"===t.chosenObject?s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedContract.objectId,expression:"selectedContract.objectId"}],staticClass:"select input",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.selectedContract,"objectId",e.target.multiple?s:s[0])}}},t._l(t.flats,function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                  "+t._s(e.address)+"\n                ")])})):t._e(),t._v(" "),"Car"===t.chosenObject?s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedContract.objectId,expression:"selectedContract.objectId"}],staticClass:"select input",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.selectedContract,"objectId",e.target.multiple?s:s[0])}}},t._l(t.cars,function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                  "+t._s(e.mark)+" "+t._s(e.model)+"\n                ")])})):t._e()])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-label"}),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("button",{staticClass:"button is-primary"},[t._v("Submit")]),t._v(" "),s("router-link",{attrs:{to:{name:"contractsListView"}}},[s("button",{staticClass:"button is-link"},[t._v("Cancel")])])],1)])])])]),t._v(" "),s("div",{staticClass:"column"})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"summ"}},[this._v("Contract summ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"prePaid"}},[this._v("Prepaid")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"startDate"}},[this._v("Start date")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"finishDate"}},[this._v("Finish date")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"selectedContract.clientId"}},[this._v("Client")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Choose object")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"selectedContract.objectId"}},[this._v("Object of evaluation")])])}]};var K=s("VU/8")(Y,W,!1,function(t){s("/T3m")},"data-v-4c8a6b60",null).exports,q=[{path:"/",component:M,name:"contractsListView"},{path:"/contracts/create",component:K,name:"createContract"},{path:"/contracts/:contractId/update",component:K,name:"updateContract"}],Z=function(t){return k.a.setItem("CONTRACT-"+t.id,t).then(function(t){return t}).catch(function(t){console.log("oops! the contract was too far gone, there was nothing we could do to save him ",t)})},H=function(){return k.a.startsWith("FLAT-").then(function(t){return x(t)})},J=function(t){return k.a.setItem("FLAT-"+t.id,t).then(function(t){return t}).catch(function(t){console.log("oops! the flat was too far gone, there was nothing we could do to save him ",t)})},Q=function(){return k.a.startsWith("CAR-").then(function(t){return x(t)})},X=function(t){return k.a.setItem("CAR-"+t.id,t).then(function(t){return t}).catch(function(t){console.log("oops! the car was too far gone, there was nothing we could do to save him ",t)})},tt=function(t,e){return!L()(t).find(function(t){return t.summ===e.summ&&t.prePaid===e.prePaid&&t.startDate===e.startDate&&t.finishDate===e.finishDate&&t.clientId===e.clientId&&t.objectId===e.objectId})},et=function(t,e){var s=t.commit,a=t.state;if(Date.parse(e.startDate)>=Date.parse(e.finishDate))return I.a.reject(new Error("Start Date must be before Finish Date!"));if(!tt(a.contracts,e))return I.a.reject(new Error("This contract already exists!"));var i=N(),n=b()({id:i},e);s("CREATE_CONTRACT",{contract:n}),Z(n).then(function(t){})},st=function(t,e){var s=t.commit,a=t.state;return Date.parse(e.startDate)>=Date.parse(e.finishDate)?I.a.reject(new Error("Start Date must be before Finish Date!")):tt(a.contracts,e)?(s("UPDATE_CONTRACT",{contract:e}),void Z(e)):I.a.reject(new Error("This contract already exists!"))},at=function(t,e){var s;(0,t.commit)("DELETE_CONTRACT",{contract:e}),s=e,k.a.removeItem("CONTRACT-"+s.id).then(function(){return!0}).catch(function(t){return console.log(t),!1})},it=function(t){if(!t.contracts||0===u()(t.contracts).length)return k.a.startsWith("CONTRACT-").then(function(t){return x(t)}).then(function(e){t.commit("LOAD_CONTRACTS",e)})},nt=function(t){if(!t.clients||0===u()(t.clients).length)return O().then(function(e){t.commit("LOAD_CLIENTS",e)})},rt=function(t){if(!t.flats||0===u()(t.flats).length)return H().then(function(e){t.commit("LOAD_FLATS",e)})},lt=function(t){if(!t.cars||0===u()(t.cars).length)return Q().then(function(e){t.commit("LOAD_CARS",e)})},ct={state:{contracts:{}},actions:i,mutations:{CREATE_CONTRACT:function(t,e){t.contracts[e.contract.id]=e.contract},UPDATE_CONTRACT:function(t,e){t.contracts[e.contract.id]=e.contract},DELETE_CONTRACT:function(t,e){l.a.delete(t.contracts,e.contract.id)},LOAD_CONTRACTS:function(t,e){t.contracts=e},LOAD_CLIENTS:function(t,e){t.clients=e},LOAD_FLATS:function(t,e){t.flats=e},LOAD_CARS:function(t,e){t.flats=e}},getters:{getContractById:function(t,e){return function(e){return!!(t.contracts&&e in t.contracts)&&t.contracts[e]}},getClientFromId:function(t,e){return function(e){return!!(t.clients&&e in t.clients)&&t.clients[e]}},getCarFromId:function(t,e){return function(e){return!!(t.cars&&e in t.cars)&&t.cars[e]}},getFlatFromId:function(t,e){return function(e){return!!(t.flats&&e in t.flats)&&t.flats[e]}}}},ot={name:"cars-list-view",mounted:function(){this.loadCars()},methods:f()({},Object(m.b)(["deleteCar","loadCars"]),{confirmDeleteCar:function(t){confirm("Are you sure you want to delete "+t.mark+"?")&&this.deleteCar(t)}}),computed:f()({},Object(m.d)({cars:function(t){return t.cars.cars}}),{sortedCars:function(){var t=this;return u()(this.cars).sort(function(e,s){return t.cars[e].mark.localeCompare(t.cars[s].mark)}).map(function(e){return t.cars[e]})}})},dt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"cars-list-view"}},[s("div",{staticClass:"container"},[s("h3",{staticClass:"title is-3"},[t._v("List of clients")]),t._v(" "),s("div",{staticClass:"tabs is-centered is-large"},[s("ul",[s("li",[s("router-link",{attrs:{to:{name:"contractsListView"}}},[t._v("Contracts")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:{name:"clientsListView"}}},[t._v("Clients")])],1),t._v(" "),t._m(0),t._v(" "),s("li",[s("router-link",{attrs:{to:{name:"flatsListView"}}},[t._v("Flats")])],1)])]),t._v(" "),s("div",{staticClass:"hero"},[s("table",{staticClass:"table is-bordered"},[s("thead",[s("tr",[s("th",[t._v("Mark")]),t._v(" "),s("th",[t._v("Model")]),t._v(" "),s("th",[t._v("Year")]),t._v(" "),s("th",[t._v("Number")]),t._v(" "),s("th",[s("router-link",{staticClass:"button is-link",attrs:{to:{name:"createCar"}}},[t._v("Add car")])],1)])]),t._v(" "),s("tbody",t._l(t.sortedCars,function(e){return s("tr",{key:e.carId},[s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.mark))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.model))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.year))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.number))])]),t._v(" "),s("td",[s("router-link",{staticClass:"button is-primary",attrs:{to:{name:"updateCar",params:{carId:e.id}}}},[t._v("Edit")]),t._v(" "),s("a",{staticClass:"button is-danger",on:{click:function(s){t.confirmDeleteCar(e)}}},[t._v("Delete")])],1)])}))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"is-active"},[e("a",[this._v("Cars")])])}]};var ut=s("VU/8")(ot,dt,!1,function(t){s("vCgq")},"data-v-5e6b73a0",null).exports,vt={name:"cars-create-edit-view",data:function(){return{selectedCar:{},editing:!1}},mounted:function(){var t=this;"carId"in this.$route.params&&this.loadCars().then(function(){var e=t.getCarById(t.$route.params.carId);e&&(t.editing=!0,t.selectedCar=b()({},e))})},methods:f()({},Object(m.b)(["createCar","updateCar","loadCars"]),{resetAndGo:function(){this.selectedCar={},this.$router.push({name:"carsListView"})},saveNewCar:function(){var t=this;this.createCar(this.selectedCar).then(function(){t.resetAndGo()}).catch(function(t){alert(t)})},saveCar:function(){var t=this;this.updateCar(this.selectedCar).then(function(){t.resetAndGo()}).catch(function(t){alert(t)})},processSave:function(){this.editing?this.saveCar():this.saveNewCar()}}),computed:f()({},Object(m.c)(["getCarById"]))},ft={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"cars-create-edit-view"}},[s("h3",{staticClass:"title is-3",staticStyle:{"margin-bottom":"20pt"}},[t._v("Add car")]),t._v(" "),s("form",{staticClass:"columns",on:{submit:function(e){return e.preventDefault(),t.processSave(e)}}},[s("div",{staticClass:"column"}),t._v(" "),s("div",{staticClass:"column is-half"},[s("div",{staticClass:"field is-horizontal"},[t._m(0),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCar.mark,expression:"selectedCar.mark"}],staticClass:"input",attrs:{type:"text",name:"mark"},domProps:{value:t.selectedCar.mark},on:{input:function(e){e.target.composing||t.$set(t.selectedCar,"mark",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(1),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCar.model,expression:"selectedCar.model"}],staticClass:"input",attrs:{type:"text",name:"model"},domProps:{value:t.selectedCar.model},on:{input:function(e){e.target.composing||t.$set(t.selectedCar,"model",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(2),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCar.year,expression:"selectedCar.year"}],staticClass:"input",attrs:{type:"text",name:"year"},domProps:{value:t.selectedCar.year},on:{input:function(e){e.target.composing||t.$set(t.selectedCar,"year",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(3),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCar.number,expression:"selectedCar.number"}],staticClass:"input",attrs:{type:"text",name:"number"},domProps:{value:t.selectedCar.number},on:{input:function(e){e.target.composing||t.$set(t.selectedCar,"number",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-label"}),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("button",{staticClass:"button is-primary"},[t._v("Submit")]),t._v(" "),s("router-link",{attrs:{to:{name:"carsListView"}}},[s("button",{staticClass:"button is-link"},[t._v("Cancel")])])],1)])])])]),t._v(" "),s("div",{staticClass:"column"})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"mark"}},[this._v("Mark")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"model"}},[this._v("Model")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"year"}},[this._v("Year of issue")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"number"}},[this._v("Plate number")])])}]};var mt=s("VU/8")(vt,ft,!1,function(t){s("4dp6")},"data-v-260753c2",null).exports,Ct=[{path:"/cars",component:ut,name:"carsListView"},{path:"/cars/create",component:mt,name:"createCar"},{path:"/cars/:carId/update",component:mt,name:"updateCar"}],_t=function(t,e){return!L()(t).find(function(t){return t.mark===e.mark&&t.model===e.model&&t.year===e.year&&t.number===e.number})},ht=function(t,e){var s=t.commit,a=t.state;if(!_t(a.cars,e))return I.a.reject(new Error("This car already exists!"));var i=N(),n=b()({id:i},e);s("CREATE_CAR",{car:n}),X(n).then(function(t){})},pt=function(t,e){var s=t.commit,a=t.state;if(!_t(a.cars,e))return I.a.reject(new Error("This car already exists!"));s("UPDATE_CAR",{car:e}),X(e)},bt=function(t,e){var s;(0,t.commit)("DELETE_CAR",{car:e}),s=e,k.a.removeItem("CAR-"+s.id).then(function(){return!0}).catch(function(t){return console.log(t),!1})},gt=function(t){if(!t.cars||0===u()(t.cars).length)return Q().then(function(e){t.commit("LOAD_CARS",e)})},yt={state:{cars:{}},actions:n,mutations:{CREATE_CAR:function(t,e){t.cars[e.car.id]=e.car},UPDATE_CAR:function(t,e){t.cars[e.car.id]=e.car},DELETE_CAR:function(t,e){l.a.delete(t.cars,e.car.id)},LOAD_CARS:function(t,e){t.cars=e}},getters:{getCarById:function(t,e){return function(e){return!!(t.cars&&e in t.cars)&&t.cars[e]}}}},Ft={name:"flats-list-view",mounted:function(){this.loadFlats()},methods:f()({},Object(m.b)(["deleteFlat","loadFlats"]),{confirmDeleteFlat:function(t){confirm("Are you sure you want to delete flat "+t.address+"?")&&this.deleteFlat(t)}}),computed:f()({},Object(m.d)({flats:function(t){return t.flats.flats}}),{sortedFlats:function(){var t=this;return u()(this.flats).sort(function(e,s){return t.flats[e].address.localeCompare(t.flats[s].address)}).map(function(e){return t.flats[e]})}})},Et={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"flats-list-view"}},[s("div",{staticClass:"container"},[s("h3",{staticClass:"title is-3"},[t._v("List of clients")]),t._v(" "),s("div",{staticClass:"tabs is-centered is-large"},[s("ul",[s("li",[s("router-link",{attrs:{to:{name:"contractsListView"}}},[t._v("Contracts")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:{name:"clientsListView"}}},[t._v("Clients")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:{name:"carsListView"}}},[t._v("Cars")])],1),t._v(" "),t._m(0)])]),t._v(" "),s("div",{staticClass:"hero"},[s("table",{staticClass:"table is-bordered"},[s("thead",[s("tr",[s("th",[t._v("Address")]),t._v(" "),s("th",[t._v("Number of rooms")]),t._v(" "),s("th",[t._v("Area")]),t._v(" "),s("th",[t._v("Floor")]),t._v(" "),s("th",[s("router-link",{staticClass:"button is-link",attrs:{to:{name:"createFlat"}}},[t._v("Add flat")])],1)])]),t._v(" "),s("tbody",t._l(t.sortedFlats,function(e){return s("tr",{key:e.flatId},[s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.address))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.rooms))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.area))])]),t._v(" "),s("td",[s("span",{staticClass:"subtitle is-5"},[t._v(t._s(e.flor))])]),t._v(" "),s("td",[s("router-link",{staticClass:"button is-primary",attrs:{to:{name:"updateFlat",params:{flatId:e.id}}}},[t._v("Edit")]),t._v(" "),s("a",{staticClass:"button is-danger",on:{click:function(s){t.confirmDeleteFlat(e)}}},[t._v("Delete")])],1)])}))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"is-active"},[e("a",[this._v("Flats")])])}]};var At=s("VU/8")(Ft,Et,!1,function(t){s("FEk3")},"data-v-3263923d",null).exports,wt={name:"flats-create-edit-view",data:function(){return{config:{dateFormat:"d-M-Y",maxDate:"today"},selectedFlat:{},editing:!1}},mounted:function(){var t=this;"flatId"in this.$route.params&&this.loadFlats().then(function(){var e=t.getFlatById(t.$route.params.flatId);e&&(t.editing=!0,t.selectedFlat=b()({},e))})},methods:f()({},Object(m.b)(["createFlat","updateFlat","loadFlats"]),{resetAndGo:function(){this.selectedFlat={},this.$router.push({name:"flatsListView"})},saveNewFlat:function(){var t=this;this.createFlat(this.selectedFlat).then(function(){t.resetAndGo()}).catch(function(t){alert(t)})},saveFlat:function(){var t=this;this.updateFlat(this.selectedFlat).then(function(){t.resetAndGo()}).catch(function(t){alert(t)})},processSave:function(){this.editing?this.saveFlat():this.saveNewFlat()}}),computed:f()({},Object(m.c)(["getFlatById"]))},Dt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"flats-create-edit-view"}},[s("h3",{staticClass:"title is-3",staticStyle:{"margin-bottom":"20pt"}},[t._v("Add flat")]),t._v(" "),s("form",{staticClass:"columns",on:{submit:function(e){return e.preventDefault(),t.processSave(e)}}},[s("div",{staticClass:"column"}),t._v(" "),s("div",{staticClass:"column is-half"},[s("div",{staticClass:"field is-horizontal"},[t._m(0),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedFlat.address,expression:"selectedFlat.address"}],staticClass:"input",attrs:{type:"text",name:"address"},domProps:{value:t.selectedFlat.address},on:{input:function(e){e.target.composing||t.$set(t.selectedFlat,"address",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(1),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedFlat.rooms,expression:"selectedFlat.rooms"}],staticClass:"input",attrs:{type:"text",name:"rooms"},domProps:{value:t.selectedFlat.rooms},on:{input:function(e){e.target.composing||t.$set(t.selectedFlat,"rooms",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(2),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedFlat.area,expression:"selectedFlat.area"}],staticClass:"input",attrs:{type:"text",name:"area"},domProps:{value:t.selectedFlat.area},on:{input:function(e){e.target.composing||t.$set(t.selectedFlat,"area",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(3),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedFlat.flor,expression:"selectedFlat.flor"}],staticClass:"input",attrs:{type:"text",name:"flor"},domProps:{value:t.selectedFlat.flor},on:{input:function(e){e.target.composing||t.$set(t.selectedFlat,"flor",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-label"}),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("button",{staticClass:"button is-primary"},[t._v("Submit")]),t._v(" "),s("router-link",{attrs:{to:{name:"flatsListView"}}},[s("button",{staticClass:"button is-link"},[t._v("Cancel")])])],1)])])])]),t._v(" "),s("div",{staticClass:"column"})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"address"}},[this._v("Address")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"rooms"}},[this._v("Number of rooms")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"area"}},[this._v("Flat area")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label",attrs:{for:"flor"}},[this._v("Floor")])])}]};var It=s("VU/8")(wt,Dt,!1,function(t){s("eSnS")},"data-v-1942b1b8",null).exports,Tt=[{path:"/flats",component:At,name:"flatsListView"},{path:"/flats/create",component:It,name:"createFlat"},{path:"/flats/:flatId/update",component:It,name:"updateFlat"}],Lt=function(t,e){return!L()(t).find(function(t){return t.address===e.address&&t.rooms===e.rooms&&t.area===e.area&&t.flor===e.flor})},$t=function(t,e){var s=t.commit,a=t.state;if(!Lt(a.flats,e))return I.a.reject(new Error("This flat already exists!"));var i=N(),n=b()({id:i},e);s("CREATE_FLAT",{flat:n}),J(n).then(function(t){})},kt=function(t,e){var s=t.commit,a=t.state;if(!Lt(a.flats,e))return I.a.reject(new Error("This flat already exists!"));s("UPDATE_FLAT",{flat:e}),J(e)},Nt=function(t,e){var s;(0,t.commit)("DELETE_FLAT",{flat:e}),s=e,k.a.removeItem("FLAT-"+s.id).then(function(){return!0}).catch(function(t){return console.log(t),!1})},xt=function(t){if(!t.flats||0===u()(t.flats).length)return H().then(function(e){t.commit("LOAD_FLATS",e)})},Ot={state:{flats:{}},actions:r,mutations:{CREATE_FLAT:function(t,e){t.flats[e.flat.id]=e.flat},UPDATE_FLAT:function(t,e){t.flats[e.flat.id]=e.flat},DELETE_FLAT:function(t,e){l.a.delete(t.flats,e.flat.id)},LOAD_FLATS:function(t,e){t.flats=e}},getters:{getFlatById:function(t,e){return function(e){return!!(t.flats&&e in t.flats)&&t.flats[e]}}}},jt=[].concat(o()(w),o()(q),o()(Ct),o()(Tt)),Pt={clients:U,contracts:ct,cars:yt,flats:Ot},St={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var Rt=s("VU/8")({name:"App"},St,!1,function(t){s("LBCD")},null,null).exports,Vt=s("/ocq");l.a.use(Vt.a);var zt=new Vt.a({mode:"history",routes:jt});l.a.use(m.a);var Ut=new m.a.Store({modules:Pt,strict:!1});s("GK12");s("tWmM"),l.a.config.productionTip=!1,k.a.config({name:"clients-list"}),new l.a({el:"#app",store:Ut,router:zt,components:{App:Rt},template:"<App/>"})},eSnS:function(t,e){},vCgq:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5dba878664cc7be5e8ab.js.map